"use strict";(self.webpackChunkmosque=self.webpackChunkmosque||[]).push([[297],{297:(O,S,s)=>{s.r(S),s.d(S,{AgazaModule:()=>J});var f=s(6895),C=s(3057),r=s(433),b=s(7990),T=s.n(b),l=s(8081),e=s(1571),c=s(1261),h=s(4004),m=s(262),p=s(2843),u=s(529);let v=(()=>{class i{constructor(t){this.http=t}getEgazaCategories(){const t=(new u.WM).set("Content-Type","text/plain; charset=utf-8");return this.http.get(`${c.N.api}EgazaRequest/getEgazaCategories`,{headers:t}).pipe((0,h.U)(o=>o),(0,m.K)(o=>(0,p._)(()=>o)))}getEgazaSubcategories(t){const o=(new u.WM).set("Content-Type","text/plain; charset=utf-8");let n=new u.LE;return void 0!==t&&(n=n.set("categoryId",t.toString())),this.http.get(`${c.N.api}EgazaRequest/getEgazaSubcategories`,{headers:o,params:n}).pipe((0,h.U)(a=>a),(0,m.K)(a=>(0,p._)(()=>a)))}getEgazaSheikh(t){const o=(new u.WM).set("Content-Type","text/plain; charset=utf-8");let n=new u.LE;return void 0!==t&&(n=n.set("subcategoryId",t.toString())),this.http.get(`${c.N.api}EgazaRequest/getEgazaSheikh`,{headers:o,params:n}).pipe((0,h.U)(a=>a),(0,m.K)(a=>(0,p._)(()=>a)))}EgazaRequest(t){const o=(new u.WM).set("Content-Type","text/plain; charset=utf-8");let n=new u.LE;return void 0!==t.userName&&(n=n.set("Name",t.userName.toString())),void 0!==t.phone&&(n=n.set("Phone1",t.phone.e164Number.toString())),void 0!==t.Phone2&&(n=n.set("Phone2",t.Phone2.toString())),void 0!==t.email&&(n=n.set("Email",t.email.toString())),void 0!==t.age&&(n=n.set("Age",t.age.toString())),void 0!==t.city&&(n=n.set("City",t.city.toString())),void 0!==t.gender&&(n=n.set("Gender",t.gender.toString())),void 0!==t.agazaSheikh&&(n=n.set("EgazaSheikhId",t.agazaSheikh.toString())),void 0!==t.agazaSubType&&(n=n.set("EgazaSubcategoryId",t.agazaSubType.toString())),void 0!==t.Notes&&(n=n.set("Notes",t.Notes.toString())),this.http.post(`${c.N.api}EgazaRequest`,null,{headers:o,params:n}).pipe((0,h.U)(a=>a),(0,m.K)(a=>(0,p._)(()=>a)))}static#e=this.\u0275fac=function(o){return new(o||i)(e.LFG(u.eN))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var z=s(2235);const _=["phoneInput"];function Z(i,g){if(1&i&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&i){const t=g.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name_En)}}function x(i,g){if(1&i&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&i){const t=g.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name_En)}}function I(i,g){if(1&i&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&i){const t=g.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name_En)}}function A(i,g){if(1&i&&(e.TgZ(0,"div",42),e._uU(1),e.qZA()),2&i){const t=g.$implicit;e.xp6(1),e.hij(" ",t.error," ")}}function N(i,g){if(1&i&&(e.TgZ(0,"div",40),e.YNc(1,A,2,1,"div",41),e.qZA()),2&i){const t=e.oxw(2).$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",o.errorMessage[t])}}function w(i,g){if(1&i&&(e.ynx(0),e.YNc(1,N,2,1,"div",39),e.BQk()),2&i){const t=e.oxw().$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",o.errorMessage[t].length>0)}}function E(i,g){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,w,2,1,"ng-container",38),e.qZA()),2&i){const t=g.$implicit;e.xp6(1),e.Q6J("ngIf","isError"!==t)}}function k(i,g){if(1&i&&(e.TgZ(0,"div",36),e.YNc(1,E,2,1,"div",37),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.objectKeys(t.errorMessage))}}const y=function(i,g){return[i,g]},M=[{path:"",component:(()=>{class i{changePreferredCountries(){this.preferredCountries=[l.HT.India,l.HT.Canada]}constructor(t,o){this.agazaService=t,this.fb=o,this.errorMessage={isError:!1,username:[],email:[],password:[]},this.objectKeys=Object.keys,this.egazaCategories=[],this.selectedCategoryId="",this.egazaSubcategories=[],this.selectedSubcategoriesId="",this.egazaSheikh=[],this.selectedegazaSheikhId="",this.separateDialCode=!1,this.SearchCountryField=l.wX,this.CountryISO=l.HT,this.preferredCountries=[l.HT.UnitedStates,l.HT.UnitedKingdom]}ngOnInit(){this.getEgazaCategories(),this.form=this.fb.group({agazaType:["",r.kI.required],agazaSubType:new r.NI({value:"",disabled:!0},r.kI.required),agazaSheikh:new r.NI({value:"",disabled:!0},r.kI.required),userName:new r.NI("",r.kI.required),email:["",[r.kI.required,r.kI.email]],age:["",r.kI.required],city:["",r.kI.required],phone:[{}],gender:["",r.kI.required]})}get f(){return this.form.controls}ngAfterViewInit(){this.initPhoneInput()}initPhoneInput(){this.phoneInputSelect=T()(this.phoneInput,{}),console.log(this.phoneInputSelect),console.log(this.phoneInput)}getSelectedCountryData(){const t=this.phoneInputSelect.getSelectedCountryData();console.log(t)}getEgazaCategories(){this.agazaService.getEgazaCategories().subscribe({next:t=>{t.length>0&&(this.egazaCategories=[...t])},error:t=>{console.error("There was an error!",t)}})}getEgazaSubcategories(){this.agazaService.getEgazaSubcategories(this.selectedCategoryId).subscribe({next:t=>{this.form.get("agazaSubType")?.enable(),t.length>0&&(this.egazaSubcategories=[...t])},error:t=>{console.error("There was an error!",t)}})}getEgazaSheikh(){this.agazaService.getEgazaSheikh(this.selectedSubcategoriesId).subscribe({next:t=>{this.form.get("agazaSheikh")?.enable(),t.length>0&&(this.egazaSheikh=[...t])},error:t=>{console.error("There was an error!",t)}})}submitForm(){this.markAllAsTouched(this.form),this.form.valid&&(this.agazaService.EgazaRequest(this.form.value).subscribe({next:t=>{this.form.reset()},error:t=>{console.error("There was an error!",t),this.handleError(t.errors)}}),console.log(this.form.value))}markAllAsTouched(t){Object.values(t.controls).forEach(o=>{o.markAsTouched(),o instanceof r.cw&&this.markAllAsTouched(o)})}markFormGroupTouched(t){Object.values(t.controls).forEach(o=>{o.markAsTouched(),o instanceof r.cw&&this.markFormGroupTouched(o)})}egazaCategoriesChange(){this.egazaSubcategories=[],this.egazaSheikh=[],this.selectedSubcategoriesId="",this.form.get("agazaSheikh")?.disable(),this.getEgazaSubcategories()}egazaSubcategoriesChange(){this.egazaSheikh=[],this.selectedegazaSheikhId="",this.getEgazaSheikh()}handleError(t){if(t.error&&t.error){this.errorMessage={isError:!0};for(const[o,n]of Object.entries(t.error))console.log(`${o}: ${n}`),this.errorMessage[o]=n||[]}}resetErrorMessage(){this.errorMessage={isError:!1,username:[],email:[],password:[]}}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(v),e.Y36(r.qu))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-submit"]],viewQuery:function(o,n){if(1&o&&e.Gf(_,5),2&o){let a;e.iGM(a=e.CRH())&&(n.phoneInput=a.first)}},decls:62,vars:27,consts:[[3,"imageURL","imageName"],[1,"container-fluid","d-flex","flex-column","align-items-center","justify-content-center","gap-5"],[1,"d-flex","align-items-center","justify-content-center"],[1,"agazaTitle"],["xmlns","http://www.w3.org/2000/svg","width","124","height","125","viewBox","0 0 124 125","fill","none"],["cx","62","cy","62.5","rx","62","ry","62.5","fill","#D9D9D9"],[1,"d-flex","flex-column","align-items-center","justify-content-center","gap-2","mb-5"],[1,"submitForm"],[2,"width","500px",3,"formGroup","ngSubmit"],[2,"text-transform","uppercase"],[1,"m-2"],["formControlName","agazaType",1,"dropDownList",3,"ngModel","ngModelChange","change"],["disabled","","value","","selected",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","agazaSubType",1,"dropDownList",3,"ngModel","ngModelChange","change"],["formControlName","agazaSheikh",1,"dropDownList",3,"ngModel","ngModelChange"],[1,"form-group","m-2","form-outline"],["formControlName","userName","type","text","placeholder","User Name","required","",1,"form-control","dropDownList"],[1,"invalid-feedback"],[1,"form-group","m-2"],["formControlName","email","type","email","placeholder","name@example.com",1,"form-control","dropDownList"],["formControlName","age","type","text","placeholder","User Age",1,"form-control","dropDownList"],["formControlName","city","type","text","placeholder","User City",1,"form-control","dropDownList"],[1,"form-group","d-flex","flex-row","flex-wrap","align-items-center","justify-content-center","dropDownList"],["name","phone","formControlName","phone",1,"",3,"cssClass","preferredCountries","enableAutoCountrySelect","enablePlaceholder","searchCountryFlag","searchCountryField","selectFirstCountry","selectedCountryISO","maxLength","phoneValidation","inputId"],[1,"form-check","form-check-inline"],["formControlName","gender","type","radio","id","Man","value","Man",1,"form-check-input"],["for","Man",1,"form-check-label"],["formControlName","gender","type","radio","id","Woman","value","Woman",1,"form-check-input"],["for","Woman",1,"form-check-label"],["formControlName","gender","type","radio","id","Kids","value","Kids",1,"form-check-input"],["for","Kids",1,"form-check-label"],["type","submit",1,"btn","btn-primary","align-items-center","justify-content-center","dropDownList"],[1,"w-full","md:w-30rem","m-3"],["class","error-messages",4,"ngIf"],[3,"value"],[1,"error-messages"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","m-1",4,"ngIf"],[1,"m-1"],["class","alert alert-danger","role","alert",4,"ngFor","ngForOf"],["role","alert",1,"alert","alert-danger"]],template:function(o,n){1&o&&(e._UZ(0,"app-main-banner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"Agaza Request"),e.qZA()(),e.TgZ(5,"div",2)(6,"div"),e.O4$(),e.TgZ(7,"svg",4),e._UZ(8,"ellipse",5),e.qZA()()(),e.kcU(),e.TgZ(9,"div",6)(10,"div",7)(11,"form",8),e.NdJ("ngSubmit",function(){return n.submitForm()}),e.TgZ(12,"div",2)(13,"div",9),e._uU(14,"Agaza Type"),e.qZA()(),e.TgZ(15,"div",10)(16,"select",11),e.NdJ("ngModelChange",function(d){return n.selectedCategoryId=d})("change",function(){return n.egazaCategoriesChange()}),e.TgZ(17,"option",12),e._uU(18,"Select Categories"),e.qZA(),e.YNc(19,Z,2,2,"option",13),e.qZA()(),e.TgZ(20,"div",10)(21,"select",14),e.NdJ("ngModelChange",function(d){return n.selectedSubcategoriesId=d})("change",function(){return n.egazaSubcategoriesChange()}),e.TgZ(22,"option",12),e._uU(23,"Select Subcategories"),e.qZA(),e.YNc(24,x,2,2,"option",13),e.qZA()(),e.TgZ(25,"div",10)(26,"select",15),e.NdJ("ngModelChange",function(d){return n.selectedegazaSheikhId=d}),e.TgZ(27,"option",12),e._uU(28,"Select Sheikh"),e.qZA(),e.YNc(29,I,2,2,"option",13),e.qZA()(),e.TgZ(30,"div",2)(31,"div",9),e._uU(32,"Your information"),e.qZA()(),e.TgZ(33,"div",16),e._UZ(34,"input",17),e.TgZ(35,"div",18),e._uU(36,"Please provide a valid city."),e.qZA()(),e.TgZ(37,"div",19),e._UZ(38,"input",20),e.qZA(),e.TgZ(39,"div",19),e._UZ(40,"input",21),e.qZA(),e.TgZ(41,"div",19),e._UZ(42,"input",22),e.qZA(),e.TgZ(43,"div",23),e._UZ(44,"ngx-intl-tel-input",24),e.qZA(),e.TgZ(45,"div",23)(46,"div",25),e._UZ(47,"input",26),e.TgZ(48,"label",27),e._uU(49,"Man"),e.qZA()(),e.TgZ(50,"div",25),e._UZ(51,"input",28),e.TgZ(52,"label",29),e._uU(53,"Woman"),e.qZA()(),e.TgZ(54,"div",25),e._UZ(55,"input",30),e.TgZ(56,"label",31),e._uU(57,"Kids"),e.qZA()()(),e.TgZ(58,"button",32),e._uU(59,"Submit"),e.qZA()(),e.TgZ(60,"div",33),e.YNc(61,k,2,1,"div",34),e.qZA()()()()),2&o&&(e.Q6J("imageURL","/assets/image/slider/agaza.png")("imageName","Agaza"),e.xp6(11),e.Q6J("formGroup",n.form),e.xp6(5),e.Q6J("ngModel",n.selectedCategoryId),e.xp6(3),e.Q6J("ngForOf",n.egazaCategories),e.xp6(2),e.Q6J("ngModel",n.selectedSubcategoriesId),e.xp6(3),e.Q6J("ngForOf",n.egazaSubcategories),e.xp6(2),e.Q6J("ngModel",n.selectedegazaSheikhId),e.xp6(3),e.Q6J("ngForOf",n.egazaSheikh),e.xp6(15),e.Q6J("cssClass","custom form-control dropDownList")("preferredCountries",e.WLB(21,y,n.CountryISO.UnitedStates,n.CountryISO.UnitedKingdom))("enableAutoCountrySelect",!1)("enablePlaceholder",!0)("searchCountryFlag",!0)("searchCountryField",e.WLB(24,y,n.SearchCountryField.Iso2,n.SearchCountryField.Name))("selectFirstCountry",!1)("selectedCountryISO",n.CountryISO.UnitedStates)("maxLength","15")("phoneValidation",!0)("inputId","my-input-id"),e.xp6(17),e.Q6J("ngIf",n.errorMessage.isError))},dependencies:[f.sg,f.O5,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r._,r.JJ,r.JL,r.Q7,r.sg,r.u,l.FV,l.mh,z.e],styles:[".container-fluid[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px;height:1012px}.container-fluid[_ngcontent-%COMP%]   .agazaTitle[_ngcontent-%COMP%]{color:var(--Nature-3, #262F44);font-family:Poppins;font-size:36px;font-style:normal;font-weight:600;line-height:44px}.submitForm[_ngcontent-%COMP%]   .dropDownList[_ngcontent-%COMP%]{display:flex;width:500px;padding:5px 20px;gap:20px;flex-shrink:0;border:solid 0px rgb(181,179,179);border-radius:10px}  ngx-intl-tel-input input#phone{width:500px!important}"]})}return i})()}];let U=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[C.Bz.forChild(M),C.Bz]})}return i})();var F=s(990);let J=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({providers:[v],imports:[f.ez,U,r.UX,r.u5,l.J7,F.m,u.JF]})}return i})()}}]);