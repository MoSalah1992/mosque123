"use strict";(self.webpackChunkmosque=self.webpackChunkmosque||[]).push([[826],{826:(M,h,c)=>{c.r(h),c.d(h,{FilterModule:()=>w});var d=c(6895),p=c(3057),e=c(1571),g=c(7604),m=c(1481),f=c(2235),u=c(433);const _=["audioPlayer"],v=["audioSource"];function y(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",29)(1,"input",30),e.NdJ("change",function(n){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.handleMediatypeChange(n,a))}),e.qZA(),e.TgZ(2,"label",31),e._uU(3),e.qZA()()}if(2&r){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("value",t)("checked",t===i.selectedMediaType),e.xp6(2),e.hij(" ",t.name_En," ")}}function b(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",29)(1,"input",32),e.NdJ("change",function(n){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.handleLecturersChange(n,a))}),e.qZA(),e.TgZ(2,"label",31),e._uU(3),e.qZA()()}if(2&r){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("checked",t===i.selectedLecturers),e.xp6(2),e.hij(" ",t.name_En," ")}}function T(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",29)(1,"input",32),e.NdJ("change",function(n){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.handlethreadsChange(n,a))}),e.qZA(),e.TgZ(2,"label",31),e._uU(3),e.qZA()()}if(2&r){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("checked",t===i.selectedThreads),e.xp6(2),e.hij(" ",t.name_En," ")}}function x(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",34)(1,"div",35)(2,"div",36)(3,"div",37)(4,"h5",38),e._uU(5),e.qZA(),e._UZ(6,"img",39),e.qZA(),e.TgZ(7,"p",40),e._uU(8),e.qZA(),e.TgZ(9,"button",41),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.playAudio(s.path))}),e._uU(10,"listen now"),e.qZA(),e.TgZ(11,"audio",42,43),e._UZ(13,"source",44,45),e._uU(15," Your browser does not support the audio element. "),e.qZA()()()()}if(2&r){const t=o.$implicit;e.xp6(5),e.Oqu(t.title_En),e.xp6(3),e.Oqu(t.description_En)}}function C(r,o){if(1&r&&(e.TgZ(0,"div",21)(1,"div",2),e.YNc(2,x,16,2,"div",33),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.pagedAudioList)}}function F(r,o){1&r&&(e.TgZ(0,"div",46),e._UZ(1,"img",47),e.qZA())}function P(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"li",25)(1,"a",28),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.setPage(s))}),e._uU(2),e.qZA()()}if(2&r){const t=o.$implicit,i=e.oxw();e.ekj("active",t===i.currentPage),e.xp6(2),e.Oqu(t)}}const A=[{path:"",component:(()=>{class r{constructor(t,i){this.mediaService=t,this.domSanitizer=i,this.AudioList=[],this.mediaType=[],this.series=[],this.threads=[],this.lecturers=[],this.pagedAudioList=[],this.pageSize=9,this.totalItems=0,this.currentPage=1,this.pageSizeOptions=[6,12,24],this.searchBox="",this.PrivateFileId=void 0,this.selectedButton=""}sanitize(t){return this.domSanitizer.bypassSecurityTrustResourceUrl(t)}ngAfterViewInit(){this.PrivateFileId=history.state.PrivateFileId,this.PrivateFileId&&this.getAudios(),this.getMediaType(),this.getLecturer(),this.getThread(),this.getSeries()}ngOnInit(){}setPage(t){this.currentPage=t;const i=(t-1)*this.pageSize;this.pagedAudioList=this.AudioList.slice(i,i+this.pageSize)}prevPage(){this.currentPage>1&&this.setPage(this.currentPage-1)}nextPage(){this.totalPages=Math.ceil(this.totalItems/this.pageSize),this.currentPage<this.totalPages&&this.setPage(this.currentPage+1)}get pages(){return this.totalPages=Math.ceil(this.totalItems/this.pageSize),Array.from({length:this.totalPages},(t,i)=>i+1)}changePageSize(t){this.pageSize=t,this.setPage(1)}getAudios(t){var i={MediaTypeId:this.selectedMediaType&&this.selectedMediaType.id?this.selectedMediaType.id:void 0,LecturerId:this.selectedLecturers&&this.selectedLecturers.id?this.selectedLecturers.id:void 0,ThreadId:this.selectedThreads&&this.selectedThreads.id?this.selectedThreads.id:void 0,PrivateFileId:this.PrivateFileId?this.PrivateFileId:void 0,OrderDirection:t&&t.OrderDirection?t.OrderDirection:void 0};this.AudioList=[],this.mediaService.getAudios(i).subscribe({next:n=>{n.length>0?(this.AudioList=[...n],this.totalItems=this.AudioList.length):this.pagedAudioList=[],this.setPage(1)},error:n=>{console.error("There was an error!",n)}})}playAudio(t){const i=this.audioPlayerRef.nativeElement,n=this.audioSourceRef.nativeElement;this.oldUrl!=t?(this.oldUrl=t,n.src=t,i.pause(),i.currentTime=0,i.load(),i.play()):(i.paused?i.play():i.pause(),console.log("Audio file is already playing."))}clearFind(){this.selectedMediaType=null,this.selectedLecturers=null,this.selectedThreads=null,this.getAudios()}handleMediatypeChange(t,i){this.selectedMediaType=i,this.getAudios()}handleLecturersChange(t,i){this.selectedLecturers=i,this.getAudios()}handlethreadsChange(t,i){this.selectedThreads=i,this.getAudios()}filterFind(){}getMediaType(){this.mediaService.getMediaType().subscribe({next:t=>{if(t.length>0){this.mediaType=[...t];const n=history.state.mediaType;if(n){var i=this.mediaType.find(s=>s.name_En==n);this.selectedMediaType=i,this.getAudios()}else this.getAudios()}},error:t=>{console.error("There was an error!",t)}})}getSeries(){this.mediaService.getSeries().subscribe({next:t=>{t.length>0&&(this.series=[...t])},error:t=>{console.error("There was an error!",t)}})}getThread(){this.mediaService.getThread().subscribe({next:t=>{t.length>0&&(this.threads=[...t])},error:t=>{console.error("There was an error!",t)}})}getLecturer(){this.mediaService.getLecturer().subscribe({next:t=>{t.length>0&&(this.lecturers=[...t])},error:t=>{console.error("There was an error!",t)}})}selectButton(t){switch(this.selectedButton=t,this.removeStateParameterFromHistory("PrivateFileId"),t){case"Newest":this.newest();break;case"Views":case"Popular":default:break;case"A-Z":this.AToZ()}}AToZ(){this.getAudios({OrderDirection:"asc"})}newest(){history.state.PrivateFileId="",this.PrivateFileId="",this.getAudios({PrivateFileId:this.PrivateFileId})}searchClick(){this.pagedAudioList=this.pagedAudioList.filter(t=>t.title_En?.toLowerCase().includes(this.searchBox.toLowerCase())||t.description_En?.toLowerCase().includes(this.searchBox.toLowerCase()))}onSearch(){""==this.searchBox?(history.state.PrivateFileId="",this.PrivateFileId="",this.getAudios({PrivateFileId:this.PrivateFileId})):console.log("Search box has input:",this.searchBox)}removeStateParameterFromHistory(t){const i=history.state;i&&i[t]&&(delete i[t],history.replaceState(i,""))}static#e=this.\u0275fac=function(i){return new(i||r)(e.Y36(g.y),e.Y36(m.H7))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-filter"]],viewQuery:function(i,n){if(1&i&&(e.Gf(_,5),e.Gf(v,5)),2&i){let s;e.iGM(s=e.CRH())&&(n.audioPlayerRef=s.first),e.iGM(s=e.CRH())&&(n.audioSourceRef=s.first)}},decls:53,vars:17,consts:[[3,"imageURL","imageName"],[1,"container-fluid","py-5"],[1,"row"],[1,"col-md-3"],[1,"card",2,"height","100%","background-color","rgba(255, 253, 253, 0.229)"],[1,"card-header","d-flex","flex-row","justify-content-between"],["type","button",1,"btn","btn-primary","mx-1",3,"click"],[1,"card-body","flex","p-4"],[1,"mb-3"],["class","form-check",4,"ngFor","ngForOf"],[1,"col-lg-9","col-md-12","col-sm-12"],[1,"d-flex","justify-content-center","align-items-center","font-bold","border-round","m-2"],[1,"input-group",2,"max-width","500px"],["type","search","placeholder","Search","id","",1,"form-control","border-end-0","border","rounded-pill",3,"ngModel","ngModelChange","input"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary","bg-white","border-bottom-0","border","rounded-pill",3,"click"],["aria-hidden","true",1,"fa","fa-search"],["id","buttonGroup",1,"d-flex","justify-content-center","align-items-center","font-bold","border-round","m-2"],["type","button",1,"btn","rounded-pill","m-2",3,"ngClass","click"],["class","flex align-items-center justify-content-center font-bold border-round m-2",4,"ngIf"],["class","d-flex  align-items-center justify-content-center  ","style","padding: 100px;",4,"ngIf"],[1,"flex","align-items-center","justify-content-center","font-bold","border-round","m-2"],[1,"d-flex","justify-content-center","align-items-center","mb-3"],["aria-label","Page navigation example"],[1,"pagination"],[1,"page-item"],["tabindex","-1","aria-disabled","true",1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],[1,"page-link",3,"click"],[1,"form-check"],["type","radio","id","typeFilter1",1,"form-check-input",3,"value","checked","change"],["for","typeFilter1",1,"form-check-label"],["type","radio","value","","id","typeFilter1",1,"form-check-input",3,"checked","change"],["class","col-lg-4 col-md-6 col-sm-12 mb-3 ",4,"ngFor","ngForOf"],[1,"col-lg-4","col-md-6","col-sm-12","mb-3"],[1,"card",2,"background-color","rgba(255, 253, 253, 0.297)"],[1,"card-body","d-flex","flex-column","stify-content-between","flex-wrap"],[1,"card-body","d-flex","justify-content-between","p-0"],[1,"card-title"],["src","/assets/image/icon/Audio.png","alt","",2,"width","32px","height","32px"],[1,"card-text"],[1,"btn","btn-primary","btn-sm",3,"click"],["controls","",2,"display","none"],["audioPlayer",""],["src","","type","audio/mpeg"],["audioSource",""],[1,"d-flex","align-items-center","justify-content-center",2,"padding","100px"],["src","/assets/image/images/noData.jpg","alt","",1,"d-flex","w-2",2,"width","100%"]],template:function(i,n){1&i&&(e._UZ(0,"app-main-banner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5"),e._uU(7,"Filters"),e.qZA(),e.TgZ(8,"div")(9,"button",6),e.NdJ("click",function(){return n.clearFind()}),e._uU(10,"Clear"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"h6"),e._uU(14,"Type"),e.qZA(),e.YNc(15,y,4,3,"div",9),e.qZA(),e.TgZ(16,"div",8)(17,"h6"),e._uU(18,"Name of the Lecturer"),e.qZA(),e.YNc(19,b,4,2,"div",9),e.qZA(),e.TgZ(20,"div",8)(21,"h6"),e._uU(22,"Threads"),e.qZA(),e.YNc(23,T,4,2,"div",9),e.qZA()()()(),e.TgZ(24,"div",10)(25,"div",11)(26,"div",12)(27,"input",13),e.NdJ("ngModelChange",function(a){return n.searchBox=a})("input",function(){return n.onSearch()}),e.qZA(),e.TgZ(28,"span",14)(29,"button",15),e.NdJ("click",function(){return n.searchClick()}),e._UZ(30,"i",16),e.qZA()()()(),e.TgZ(31,"div",17)(32,"button",18),e.NdJ("click",function(){return n.selectButton("Newest")}),e._uU(33,"Newest"),e.qZA(),e.TgZ(34,"button",18),e.NdJ("click",function(){return n.selectButton("Views")}),e._uU(35,"Views"),e.qZA(),e.TgZ(36,"button",18),e.NdJ("click",function(){return n.selectButton("Popular")}),e._uU(37,"Popular"),e.qZA(),e.TgZ(38,"button",18),e.NdJ("click",function(){return n.selectButton("A-Z")}),e._uU(39,"A-Z"),e.qZA()(),e.YNc(40,C,3,1,"div",19),e.YNc(41,F,2,0,"div",20),e.TgZ(42,"div",21)(43,"div",22)(44,"nav",23)(45,"ul",24)(46,"li",25)(47,"a",26),e.NdJ("click",function(){return n.prevPage()}),e._uU(48,"Previous"),e.qZA()(),e.YNc(49,P,3,3,"li",27),e.TgZ(50,"li",25)(51,"a",28),e.NdJ("click",function(){return n.nextPage()}),e._uU(52,"Next"),e.qZA()()()()()()()()()),2&i&&(e.Q6J("imageURL","/assets/image/slider/audio.png")("imageName","Audio"),e.xp6(15),e.Q6J("ngForOf",n.mediaType),e.xp6(4),e.Q6J("ngForOf",n.lecturers),e.xp6(4),e.Q6J("ngForOf",n.threads),e.xp6(4),e.Q6J("ngModel",n.searchBox),e.xp6(5),e.Q6J("ngClass","Newest"===n.selectedButton?"btn-primary":"btn-secondary"),e.xp6(2),e.Q6J("ngClass","Views"===n.selectedButton?"btn-primary":"btn-secondary"),e.xp6(2),e.Q6J("ngClass","Popular"===n.selectedButton?"btn-primary":"btn-secondary"),e.xp6(2),e.Q6J("ngClass","A-Z"===n.selectedButton?"btn-primary":"btn-secondary"),e.xp6(2),e.Q6J("ngIf",n.pagedAudioList.length>0),e.xp6(1),e.Q6J("ngIf",0==n.pagedAudioList.length),e.xp6(5),e.ekj("disabled",1===n.currentPage),e.xp6(3),e.Q6J("ngForOf",n.pages),e.xp6(1),e.ekj("disabled",n.currentPage===n.totalPages))},dependencies:[d.mk,d.sg,d.O5,f.e,u.Fj,u.JJ,u.On],styles:[".container-fluid[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}.container-fluid[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{flex:1}.container-fluid[_ngcontent-%COMP%]   .card-wrapper[_ngcontent-%COMP%]{display:flex;height:100%}.container-fluid[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border-radius:10px;background:var(--Nature-8, #d3d7dd);display:flex;flex-direction:column;height:100%}.container-fluid[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:var(--nature-nature-5, #0D1822);font-family:Poppins;font-size:15px;font-style:normal;font-weight:500;line-height:28px;text-transform:capitalize}.container-fluid[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{color:var(--nature-nature-3, #536576);font-family:Poppins;font-size:12px;font-style:normal;font-weight:400;line-height:20px}"]})}return r})()}];let Z=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=e.oAB({type:r});static#i=this.\u0275inj=e.cJS({imports:[p.Bz.forChild(A),p.Bz]})}return r})();var k=c(990);let w=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=e.oAB({type:r});static#i=this.\u0275inj=e.cJS({imports:[d.ez,Z,k.m]})}return r})()}}]);